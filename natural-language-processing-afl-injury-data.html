<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Natural language processing AFL injury data - Conrad</title><meta name="description" content="Problem In building an AFL fantasy optimisation engine I ran tired of manually excluding all injured players. I put together a python script that reads the official list of AFL player injuries and outputs expected return dates (based on the estimated return listed on the&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://conradbezuidenhout.com/natural-language-processing-afl-injury-data.html"><link rel="alternate" type="application/atom+xml" href="https://conradbezuidenhout.com/feed.xml"><link rel="alternate" type="application/json" href="https://conradbezuidenhout.com/feed.json"><meta property="og:title" content="Natural language processing AFL injury data"><meta property="og:site_name" content="Conrad"><meta property="og:description" content="Problem In building an AFL fantasy optimisation engine I ran tired of manually excluding all injured players. I put together a python script that reads the official list of AFL player injuries and outputs expected return dates (based on the estimated return listed on the&hellip;"><meta property="og:url" content="https://conradbezuidenhout.com/natural-language-processing-afl-injury-data.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://conradbezuidenhout.com/media/website/abacus.svg" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://conradbezuidenhout.com/assets/css/style.css?v=06557c17292c6aafc463bd6d99d0f5e5"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://conradbezuidenhout.com/natural-language-processing-afl-injury-data.html"},"headline":"Natural language processing AFL injury data","datePublished":"2021-08-03T23:32","dateModified":"2021-08-03T23:43","description":"Problem In building an AFL fantasy optimisation engine I ran tired of manually excluding all injured players. I put together a python script that reads the official list of AFL player injuries and outputs expected return dates (based on the estimated return listed on the&hellip;","author":{"@type":"Person","name":"Conrad Bezuidenhout"},"publisher":{"@type":"Organization","name":"Conrad Bezuidenhout"}}</script><script src="https://conradbezuidenhout.com/assets/js/ls.parent-fit.min.js?v=f8467455ea5c88e3e51a4f212d2632bd"></script><script async src="https://conradbezuidenhout.com/assets/js/lazysizes.min.js?v=6a69d476c93de2b78a72acb259abccea"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://conradbezuidenhout.com/">Conrad</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://conradbezuidenhout.com/resume.html" target="_self">Resume</a></li><li><a href="https://conradbezuidenhout.com/projects.html" target="_self">Projects</a></li></ul></nav></header><main><article class="post"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Natural language processing AFL injury data</h1></div></header></div><div class="wrapper post__entry"><h2>Problem</h2><p>In building an AFL fantasy optimisation engine I ran tired of manually excluding all injured players.</p><p>I put together a python script that reads the official list of AFL player injuries and outputs expected return dates (based on the estimated return listed on the website).</p><p>The result is an auto-updating CSV </p><figure class="post__image"><img class="lazyload" loading="lazy" data-src="https://conradbezuidenhout.com/media/posts/5/Screen-Shot-2021-08-03-at-11.17.01-pm.png" data-sizes="auto" data-srcset="https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-xs.png 300w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-sm.png 480w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-md.png 768w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-lg.png 1024w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-xl.png 1360w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.17.01-pm-2xl.png 1600w" alt="" data-aspectratio="2.096531" width="1390" height="663"></figure><p>(https://github.com/conradbez/afl_injuries/blob/main/injuries.csv)</p><h2>Challenges:</h2><ol><li>Return from injury times are given in the human-readable form (see image below *)</li><li>Return dates should auto-update without costly <span data-preserver-spaces="true">infrastructure </span>(maintenance time and compute cost) </li></ol><figure class="post__image"><img class="lazyload" loading="lazy" data-src="https://conradbezuidenhout.com/media/posts/5/Screen-Shot-2021-08-03-at-11.18.43-pm.png" data-sizes="auto" data-srcset="https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-xs.png 300w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-sm.png 480w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-md.png 768w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-lg.png 1024w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-xl.png 1360w ,https://conradbezuidenhout.com/media/posts/5/responsive/Screen-Shot-2021-08-03-at-11.18.43-pm-2xl.png 1600w" alt="" data-aspectratio="1.295972" width="740" height="571"></figure><p>* example injury page - not easily machine-readable</p><h2>Solution</h2><ol><li>After trailing a few methods (including painful regex) I settled on the <code>dateparser</code> library converting these times to python <code>timedelta</code>  objects and adding it the date updated - for the full method inspect <a href="https://github.com/conradbez/afl_injuries/blob/main/injuries.py">https://github.com/conradbez/afl_injuries/blob/main/injuries.py</a></li><li>Github provides handy CI/CD through Github Actions. I decided to solve auto-refreshing by piggybacking off this feature. Through triggering a code build on a time schedule I controlled how often the list would be refreshed. Then setting this triggered build to execute the above script and saving the results back  into the repo the CSV is kept up to  date for free, without any underlying <span data-preserver-spaces="true">infrastructure</span>.</li></ol><p> </p><p>Hope this helps automate your AFL spreadsheets</p></div></article></main><footer class="footer"><div class="footer__copyright">Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener noreferrer">Publii Static CMS</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://conradbezuidenhout.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://conradbezuidenhout.com/assets/js/scripts.min.js?v=205f40927e4a45297a0b266e50ad78d5"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script></body></html>